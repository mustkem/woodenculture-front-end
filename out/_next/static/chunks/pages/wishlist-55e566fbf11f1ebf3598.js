_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{"+A3o":function(e,t,s){"use strict";var c=s("nKUr"),i=s("rePB"),n=s("ODXe"),r=s("q1tI"),o=s.n(r),a=s("zM5D"),l=s("cWnB"),d=s("X13+"),u=s("OS56"),j=s.n(u),h=s("vDqi"),b=s.n(h),m=s("/MKj"),O=s("i0SS"),f=s("obyI"),v=s("YgYD");function p(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,c)}return s}function w(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?p(Object(s),!0).forEach((function(t){Object(i.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var g={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1},x={dots:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1};var N=function(e){var t=Object(m.c)(),s=Object(m.d)((function(e){var t;return null===(t=e.common.user.data)||void 0===t?void 0:t.isLogedin})),i=e.item,u=e.user,h=(e.getProducts,o.a.useState(null)),p=Object(n.a)(h,2),N=p[0],S=p[1],_=o.a.useState(null),y=Object(n.a)(_,2),k=y[0],P=y[1],E=o.a.useState(!1),I=Object(n.a)(E,2),D=I[0],A=I[1],B=Object(r.useState)(!1),T=B[0],F=B[1],C=function(){return F(!1)},q=null,M=null;o.a.useEffect((function(){S(q),P(M)}),[]);var W=function(e,s){b()({method:"patch",url:f.a+"/auth/user/wishlist",headers:{Authorization:"Bearer "+localStorage.getItem("woodenculture-token")},params:{productId:e,status:s}}).then((function(e){return t(O.a.getUserStatus()),F(!0),e.data})).catch((function(e){console.log(e)}))},X=function(e){var t=!1;return u&&u.wishlist&&u.wishlist.forEach((function(s){s.productId===e&&s.status&&(t=!0)})),t};return Object(c.jsxs)("div",{className:"row product-item",children:[Object(c.jsxs)("div",{className:"col-6 sec-1",children:[Object(c.jsx)(j.a,w(w({},x),{},{asNavFor:k,ref:function(e){return q=e},children:i.images&&i.images.map((function(e){return Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"poster",children:Object(c.jsx)("img",{className:"image",src:"https://woodenculture-backend.herokuapp.com/"+e.url,alt:""})})})}))})),Object(c.jsx)("div",{className:"product-thumbs",children:Object(c.jsx)(j.a,w(w({},g),{},{slidesToShow:(null===i||void 0===i?void 0:i.images.length)<6?null===i||void 0===i?void 0:i.images.length:6,asNavFor:N,ref:function(e){return M=e},focusOnSelect:!0,children:null===i||void 0===i?void 0:i.images.map((function(e){return Object(c.jsx)("div",{className:"thumb-item",children:Object(c.jsx)("div",{className:"thumb-content",children:Object(c.jsx)("img",{className:"image",src:"https://woodenculture-backend.herokuapp.com/"+e.url,alt:""})})})}))}))})]}),Object(c.jsxs)("div",{className:"col-6",children:[Object(c.jsx)("div",{className:"head-sec",children:Object(c.jsx)("div",{className:"title",children:null===i||void 0===i?void 0:i.title})}),Object(c.jsx)("p",{className:"description",children:null===i||void 0===i?void 0:i.description}),Object(c.jsxs)("div",{className:"actions-product",children:[e.wishlistPage?Object(c.jsx)("button",{onClick:function(){e.removeFromWishlist(i._id)},className:"bt-main left",children:"Remove from wishlist"}):Object(c.jsx)(c.Fragment,{children:X(i._id)?Object(c.jsx)("button",{onClick:function(){if(!s)return t(O.a.setLoginModel(!0)),!1;W(i._id,!1)},className:"bt-main left",children:"Added to wishlist"}):Object(c.jsx)("button",{onClick:function(){if(!s)return t(O.a.setLoginModel(!0)),!1;W(i._id,!0)},className:"bt-main left",children:"Add to wishlist"})}),Object(c.jsx)("button",{onClick:function(){A(!0)},className:"bt-main right",children:"Book now"})]}),Object(c.jsxs)("div",{className:"features",children:[Object(c.jsx)("div",{className:"title-small",children:"Features"}),Object(c.jsx)("div",{className:"details",children:null===i||void 0===i?void 0:i.features.map((function(e){return Object(c.jsxs)("div",{className:"features-row",children:[Object(c.jsx)(d.a,{className:"icon"}),Object(c.jsx)("strong",{children:e.title}),Object(c.jsx)("span",{children:e.desc})]})}))})]})]}),Object(c.jsxs)(a.a,{show:T,onHide:C,children:[Object(c.jsx)(a.a.Header,{closeButton:!0,children:Object(c.jsx)(a.a.Title,{children:null===i||void 0===i?void 0:i.title})}),Object(c.jsx)(a.a.Body,{children:X(i._id)?"Added to wishlist":"Removed from wishlist"}),Object(c.jsx)(a.a.Footer,{children:Object(c.jsx)(l.a,{variant:"secondary",onClick:C,children:"Close"})})]}),Object(c.jsx)(v.a,{show:D,setShow:A,item:i,type:"Product query"})]})};t.a=N},"7d3W":function(e,t,s){"use strict";s.r(t);var c=s("nKUr"),i=s("q1tI"),n=s.n(i),r=s("ODXe"),o=s("vDqi"),a=s.n(o),l=s("/MKj"),d=s("i0SS"),u=s("obyI"),j=s("+A3o"),h=s("u24h");var b=function(){var e=n.a.useState(null),t=Object(r.a)(e,2),s=t[0],i=t[1],o=Object(l.c)();n.a.useEffect((function(){b()}),[]);var b=function(){a()({method:"get",url:u.a+"/auth/user/wishlist",headers:{Authorization:"Bearer "+localStorage.getItem("woodenculture-token")}}).then((function(e){var t=[];return e.data.products.forEach((function(e){e.status&&t.push(e.productId)})),i(t),o(d.a.getUserStatus()),e.data})).catch((function(e){console.log(e)}))},m=function(e){a()({method:"patch",url:u.a+"/auth/user/wishlist",headers:{Authorization:"Bearer "+localStorage.getItem("woodenculture-token")},params:{productId:e,status:!1}}).then((function(e){return b(),e.data})).catch((function(e){console.log(e)}))};return console.log("test",s),Object(c.jsx)(h.a,{children:Object(c.jsx)("div",{className:"wishlist-page",children:Object(c.jsx)("div",{className:"product-list-strip",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"product-list",children:s&&s.map((function(e){return e?Object(c.jsx)(j.a,{item:e,removeFromWishlist:m,wishlistPage:!0},e._id):null}))})})})})})};t.default=function(){return Object(c.jsx)(b,{})}},"O+1H":function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/wishlist",function(){return s("7d3W")}])}},[["O+1H",1,2,4,7,8,5,9,0,3,6]]]);