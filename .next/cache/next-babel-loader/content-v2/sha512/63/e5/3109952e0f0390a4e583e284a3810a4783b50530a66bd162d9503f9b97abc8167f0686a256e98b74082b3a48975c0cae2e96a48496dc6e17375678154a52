{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _slicedToArray from \"/home/mustkeem/Documents/My Projects/all-projects/woodenculture/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React from \"react\";\nimport { Button, Modal, Form } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport { API_URL } from \"../../../config\";\n\nfunction QueryModel(props) {\n  var item = props.item,\n      show = props.show,\n      setShow = props.setShow,\n      type = props.type;\n\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      note = _React$useState2[0],\n      setNote = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      phoneNum = _React$useState4[0],\n      setPhoneNum = _React$useState4[1];\n\n  var isLogedIn = useSelector(function (state) {\n    var _state$common, _state$common$user, _state$common$user$da;\n\n    return state === null || state === void 0 ? void 0 : (_state$common = state.common) === null || _state$common === void 0 ? void 0 : (_state$common$user = _state$common.user) === null || _state$common$user === void 0 ? void 0 : (_state$common$user$da = _state$common$user.data) === null || _state$common$user$da === void 0 ? void 0 : _state$common$user$da.isLogedin;\n  });\n\n  var handleSubmitQuery = function handleSubmitQuery(e, productId) {\n    e.preventDefault();\n    var data = {\n      productId: productId,\n      note: note,\n      phoneNum: phoneNum,\n      type: type\n    };\n    axios({\n      method: \"post\",\n      url: API_URL + \"/auth/user/query\",\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"woodenculture-token\")\n      },\n      data: data\n    }).then(function (response) {\n      setShow(false);\n      return response.data;\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    children: /*#__PURE__*/_jsx(Modal, {\n      show: show,\n      onHide: setShow,\n      className: \"book-now-modal\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        style: {\n          maxWidth: 600\n        },\n        children: [/*#__PURE__*/_jsx(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsx(Modal.Title, {\n            children: item === null || item === void 0 ? void 0 : item.title\n          })\n        }), /*#__PURE__*/_jsx(Modal.Body, {\n          children: /*#__PURE__*/_jsx(\"div\", {\n            style: {\n              margin: \"5px auto 30px auto\",\n              padding: \"0 45px\"\n            },\n            className: \"book-now-wrapper\",\n            children: /*#__PURE__*/_jsxs(Form, {\n              onSubmit: function onSubmit(e) {\n                return handleSubmitQuery(e, item === null || item === void 0 ? void 0 : item._id);\n              },\n              children: [!isLogedIn && /*#__PURE__*/_jsxs(Form.Group, {\n                children: [/*#__PURE__*/_jsx(Form.Label, {\n                  children: \"Phone\"\n                }), /*#__PURE__*/_jsx(Form.Control, {\n                  type: \"number\",\n                  placeholder: \"Please enter phone number\",\n                  value: phoneNum,\n                  onChange: function onChange(e) {\n                    setPhoneNum(e.target.value);\n                  }\n                })]\n              }), /*#__PURE__*/_jsxs(Form.Group, {\n                children: [/*#__PURE__*/_jsx(Form.Label, {\n                  children: \"Note for us\"\n                }), /*#__PURE__*/_jsx(Form.Control, {\n                  as: \"textarea\",\n                  rows: 5,\n                  type: \"text\",\n                  placeholder: \"Optional\",\n                  value: note,\n                  onChange: function onChange(e) {\n                    setNote(e.target.value);\n                  }\n                })]\n              }), /*#__PURE__*/_jsx(\"div\", {\n                style: {\n                  display: \"flex\",\n                  justifyContent: \"flex-end\"\n                },\n                children: /*#__PURE__*/_jsx(\"button\", {\n                  type: \"submit\",\n                  className: \"bt-main left\",\n                  children: \"Confirm and Submit\"\n                })\n              })]\n            })\n          })\n        })]\n      })\n    })\n  });\n}\n\nexport default QueryModel;","map":null,"metadata":{},"sourceType":"module"}