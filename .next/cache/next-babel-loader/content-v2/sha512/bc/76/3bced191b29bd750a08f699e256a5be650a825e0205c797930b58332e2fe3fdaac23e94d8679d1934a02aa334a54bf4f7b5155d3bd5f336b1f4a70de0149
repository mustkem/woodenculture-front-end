{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/home/mustkeem/Documents/My Projects/all-projects/woodenculture/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/mustkeem/Documents/My Projects/all-projects/woodenculture/frontend/Components/Wishlist/Wishlist.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport axios from \"axios\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { commonActions } from \"../../store/common\";\nimport { API_URL } from \"../../config\";\nimport ProductItem from \"../ProductList/components/ProductItem\";\nimport Layout from \"../Layout\";\nimport NoRecordFound from \"../NoRecordFound\";\n\nfunction Wishlist() {\n  _s();\n\n  var _this = this;\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      wishlist = _React$useState2[0],\n      setWishlist = _React$useState2[1];\n\n  var dispatch = useDispatch();\n  React.useEffect(function () {\n    getWishlist();\n  }, []);\n\n  var getWishlist = function getWishlist() {\n    axios({\n      method: \"get\",\n      url: API_URL + \"/auth/user/wishlist\",\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"woodenculture-token\")\n      }\n    }).then(function (response) {\n      var updatedData = [];\n      response.data.products.forEach(function (item) {\n        if (item.status && item.productId) {\n          updatedData.push(item.productId);\n        }\n      });\n      setWishlist(updatedData);\n      dispatch(commonActions.getUserStatus()); //get updated user data\n\n      return response.data;\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n\n  var removeFromWishlist = function removeFromWishlist(productId) {\n    axios({\n      method: \"patch\",\n      url: API_URL + \"/auth/user/wishlist\",\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"woodenculture-token\")\n      },\n      params: {\n        productId: productId,\n        status: false\n      }\n    }).then(function (response) {\n      getWishlist();\n      return response.data;\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n\n  console.log(\"test\", wishlist);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wishlist-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-list-strip\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-list\",\n            children: wishlist && wishlist.length > 0 && wishlist.map(function (item) {\n              if (!item) return null;\n              return /*#__PURE__*/_jsxDEV(ProductItem, {\n                item: item,\n                removeFromWishlist: removeFromWishlist,\n                wishlistPage: true\n              }, item._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 21\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), wishlist && wishlist.length === 0 && /*#__PURE__*/_jsxDEV(NoRecordFound, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 51\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Wishlist, \"Td6HCePSnUOLqDxuyQlagsIBW6s=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Wishlist;\nexport default Wishlist;\n\nvar _c;\n\n$RefreshReg$(_c, \"Wishlist\");","map":{"version":3,"sources":["/home/mustkeem/Documents/My Projects/all-projects/woodenculture/frontend/Components/Wishlist/Wishlist.js"],"names":["React","axios","useSelector","useDispatch","commonActions","API_URL","ProductItem","Layout","NoRecordFound","Wishlist","useState","wishlist","setWishlist","dispatch","useEffect","getWishlist","method","url","headers","Authorization","localStorage","getItem","then","response","updatedData","data","products","forEach","item","status","productId","push","getUserStatus","error","console","log","removeFromWishlist","params","length","map","_id"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { commonActions } from \"../../store/common\";\n\nimport { API_URL } from \"../../config\";\n\nimport ProductItem from \"../ProductList/components/ProductItem\";\nimport Layout from \"../Layout\";\nimport NoRecordFound from \"../NoRecordFound\";\n\nfunction Wishlist() {\n  const [wishlist, setWishlist] = React.useState(null);\n  const dispatch = useDispatch();\n\n  React.useEffect(() => {\n    getWishlist();\n  }, []);\n\n  const getWishlist = () => {\n    axios({\n      method: \"get\",\n      url: API_URL + \"/auth/user/wishlist\",\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"woodenculture-token\"),\n      },\n    })\n      .then(function (response) {\n        const updatedData = [];\n        response.data.products.forEach((item) => {\n          if (item.status && item.productId) {\n            updatedData.push(item.productId);\n          }\n        });\n        setWishlist(updatedData);\n        dispatch(commonActions.getUserStatus()); //get updated user data\n        return response.data;\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  const removeFromWishlist = (productId) => {\n    axios({\n      method: \"patch\",\n      url: API_URL + \"/auth/user/wishlist\",\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"woodenculture-token\"),\n      },\n      params: {\n        productId,\n        status: false,\n      },\n    })\n      .then(function (response) {\n        getWishlist();\n        return response.data;\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  console.log(\"test\", wishlist);\n\n  return (\n    <Layout>\n      <div className=\"wishlist-page\">\n        <div className=\"product-list-strip\">\n          <div className=\"container\">\n            <div className=\"product-list\">\n              {wishlist &&\n                wishlist.length > 0 &&\n                wishlist.map((item) => {\n                  if (!item) return null;\n                  return (\n                    <ProductItem\n                      item={item}\n                      key={item._id}\n                      removeFromWishlist={removeFromWishlist}\n                      wishlistPage\n                    />\n                  );\n                })}\n            </div>\n            {wishlist && wishlist.length === 0 && <NoRecordFound />}\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\nexport default Wishlist;\n"]},"metadata":{},"sourceType":"module"}