{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from \"react\";\nimport { Button, Modal, Form } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport { API_URL } from \"../../../config\";\n\nfunction QueryModel(props) {\n  const {\n    item,\n    show,\n    setShow,\n    type\n  } = props;\n  const [note, setNote] = React.useState(\"\");\n  const [phoneNum, setPhoneNum] = React.useState(\"\");\n  const isLogedIn = useSelector(state => {\n    var _state$common, _state$common$user, _state$common$user$da;\n\n    return state === null || state === void 0 ? void 0 : (_state$common = state.common) === null || _state$common === void 0 ? void 0 : (_state$common$user = _state$common.user) === null || _state$common$user === void 0 ? void 0 : (_state$common$user$da = _state$common$user.data) === null || _state$common$user$da === void 0 ? void 0 : _state$common$user$da.isLogedin;\n  });\n\n  const handleSubmitQuery = (e, productId) => {\n    e.preventDefault();\n    const data = {\n      productId,\n      note,\n      phoneNum,\n      type: type\n    };\n    axios({\n      method: \"post\",\n      url: API_URL + \"/auth/user/query\",\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"woodenculture-token\")\n      },\n      data\n    }).then(function (response) {\n      setShow(false);\n      return response.data;\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    children: /*#__PURE__*/_jsx(Modal, {\n      show: show,\n      onHide: setShow,\n      className: \"book-now-modal\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        style: {\n          maxWidth: 600\n        },\n        children: [/*#__PURE__*/_jsx(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsx(Modal.Title, {\n            children: item === null || item === void 0 ? void 0 : item.title\n          })\n        }), /*#__PURE__*/_jsx(Modal.Body, {\n          children: /*#__PURE__*/_jsx(\"div\", {\n            style: {\n              margin: \"5px auto 30px auto\",\n              padding: \"0 45px\"\n            },\n            className: \"book-now-wrapper\",\n            children: /*#__PURE__*/_jsxs(Form, {\n              onSubmit: e => handleSubmitQuery(e, item === null || item === void 0 ? void 0 : item._id),\n              children: [!isLogedIn && /*#__PURE__*/_jsxs(Form.Group, {\n                children: [/*#__PURE__*/_jsx(Form.Label, {\n                  children: \"Phone\"\n                }), /*#__PURE__*/_jsx(Form.Control, {\n                  type: \"number\",\n                  placeholder: \"Please enter phone number\",\n                  value: phoneNum,\n                  onChange: e => {\n                    setPhoneNum(e.target.value);\n                  }\n                })]\n              }), /*#__PURE__*/_jsxs(Form.Group, {\n                children: [/*#__PURE__*/_jsx(Form.Label, {\n                  children: \"Note for us\"\n                }), /*#__PURE__*/_jsx(Form.Control, {\n                  as: \"textarea\",\n                  rows: 5,\n                  type: \"text\",\n                  placeholder: \"Optional\",\n                  value: note,\n                  onChange: e => {\n                    setNote(e.target.value);\n                  }\n                })]\n              }), /*#__PURE__*/_jsx(\"div\", {\n                style: {\n                  display: \"flex\",\n                  justifyContent: \"flex-end\"\n                },\n                children: /*#__PURE__*/_jsx(\"button\", {\n                  type: \"submit\",\n                  className: \"bt-main left\",\n                  children: \"Confirm and Submit\"\n                })\n              })]\n            })\n          })\n        })]\n      })\n    })\n  });\n}\n\nexport default QueryModel;","map":null,"metadata":{},"sourceType":"module"}