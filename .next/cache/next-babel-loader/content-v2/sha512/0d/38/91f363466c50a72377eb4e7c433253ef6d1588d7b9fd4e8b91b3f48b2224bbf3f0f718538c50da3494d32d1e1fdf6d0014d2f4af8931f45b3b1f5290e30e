{"ast":null,"code":"import { API_URL } from \"../../config\";\nimport axios from \"axios\";\nimport { loginSucess, login as loginInitiate, getUserStatus as getUserStatusAction } from \"./actions\";\nexport const login = payload => dispatch => {\n  dispatch(loginInitiate());\n  return axios({\n    method: \"post\",\n    url: API_URL + \"/auth/login\",\n    data: payload\n  }).then(function (response) {\n    localStorage.setItem(\"woodenculture-token\", response.data.token);\n    const data = response.data;\n    data.isLogedin = true;\n    dispatch(loginSucess(data));\n    return data;\n  }).catch(function (error) {\n    console.log(error);\n    return {\n      isLogedin: false\n    };\n  });\n};\nexport const signup = async payload => {\n  return axios({\n    method: \"put\",\n    url: API_URL + \"/auth/signup\",\n    data: payload\n  }).then(function (response) {\n    return {\n      status: true\n    };\n  }).catch(function (error) {\n    return {\n      status: false\n    };\n  });\n};\nexport const getUserStatus = payload => dispatch => {\n  return axios({\n    method: \"get\",\n    url: API_URL + \"/auth/status\",\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem(\"woodenculture-token\")\n    }\n  }).then(function (response) {\n    const data = response.data;\n    data.isLogedin = true;\n    dispatch(getUserStatusAction(data));\n    return data;\n  }).catch(function (error) {\n    return {\n      isLogedin: false\n    };\n  });\n};","map":{"version":3,"sources":["/home/mustkeem/Documents/My Projects/all-projects/woodenculture/frontend/store-thunk/common/api.js"],"names":["API_URL","axios","loginSucess","login","loginInitiate","getUserStatus","getUserStatusAction","payload","dispatch","method","url","data","then","response","localStorage","setItem","token","isLogedin","catch","error","console","log","signup","status","headers","Authorization","getItem"],"mappings":"AAAA,SAASA,OAAT,QAAwB,cAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACEC,WADF,EAEEC,KAAK,IAAIC,aAFX,EAGEC,aAAa,IAAIC,mBAHnB,QAIO,WAJP;AAMA,OAAO,MAAMH,KAAK,GAAII,OAAD,IAAcC,QAAD,IAAc;AAC9CA,EAAAA,QAAQ,CAACJ,aAAa,EAAd,CAAR;AACA,SAAOH,KAAK,CAAC;AACXQ,IAAAA,MAAM,EAAE,MADG;AAEXC,IAAAA,GAAG,EAAEV,OAAO,GAAG,aAFJ;AAGXW,IAAAA,IAAI,EAAEJ;AAHK,GAAD,CAAL,CAKJK,IALI,CAKC,UAAUC,QAAV,EAAoB;AACxBC,IAAAA,YAAY,CAACC,OAAb,CAAqB,qBAArB,EAA4CF,QAAQ,CAACF,IAAT,CAAcK,KAA1D;AACA,UAAML,IAAI,GAAGE,QAAQ,CAACF,IAAtB;AACAA,IAAAA,IAAI,CAACM,SAAL,GAAiB,IAAjB;AACAT,IAAAA,QAAQ,CAACN,WAAW,CAACS,IAAD,CAAZ,CAAR;AACA,WAAOA,IAAP;AACD,GAXI,EAYJO,KAZI,CAYE,UAAUC,KAAV,EAAiB;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,WAAO;AAAEF,MAAAA,SAAS,EAAE;AAAb,KAAP;AACD,GAfI,CAAP;AAgBD,CAlBM;AAoBP,OAAO,MAAMK,MAAM,GAAG,MAAOf,OAAP,IAAmB;AACvC,SAAON,KAAK,CAAC;AACXQ,IAAAA,MAAM,EAAE,KADG;AAEXC,IAAAA,GAAG,EAAEV,OAAO,GAAG,cAFJ;AAGXW,IAAAA,IAAI,EAAEJ;AAHK,GAAD,CAAL,CAKJK,IALI,CAKC,UAAUC,QAAV,EAAoB;AACxB,WAAO;AAAEU,MAAAA,MAAM,EAAE;AAAV,KAAP;AACD,GAPI,EAQJL,KARI,CAQE,UAAUC,KAAV,EAAiB;AACtB,WAAO;AAAEI,MAAAA,MAAM,EAAE;AAAV,KAAP;AACD,GAVI,CAAP;AAWD,CAZM;AAcP,OAAO,MAAMlB,aAAa,GAAIE,OAAD,IAAcC,QAAD,IAAc;AACtD,SAAOP,KAAK,CAAC;AACXQ,IAAAA,MAAM,EAAE,KADG;AAEXC,IAAAA,GAAG,EAAEV,OAAO,GAAG,cAFJ;AAGXwB,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAE,YAAYX,YAAY,CAACY,OAAb,CAAqB,qBAArB;AADpB;AAHE,GAAD,CAAL,CAOJd,IAPI,CAOC,UAAUC,QAAV,EAAoB;AACxB,UAAMF,IAAI,GAAGE,QAAQ,CAACF,IAAtB;AACAA,IAAAA,IAAI,CAACM,SAAL,GAAiB,IAAjB;AACAT,IAAAA,QAAQ,CAACF,mBAAmB,CAACK,IAAD,CAApB,CAAR;AACA,WAAOA,IAAP;AACD,GAZI,EAaJO,KAbI,CAaE,UAAUC,KAAV,EAAiB;AACtB,WAAO;AAAEF,MAAAA,SAAS,EAAE;AAAb,KAAP;AACD,GAfI,CAAP;AAgBD,CAjBM","sourcesContent":["import { API_URL } from \"../../config\";\r\nimport axios from \"axios\";\r\nimport {\r\n  loginSucess,\r\n  login as loginInitiate,\r\n  getUserStatus as getUserStatusAction,\r\n} from \"./actions\";\r\n\r\nexport const login = (payload) => (dispatch) => {\r\n  dispatch(loginInitiate());\r\n  return axios({\r\n    method: \"post\",\r\n    url: API_URL + \"/auth/login\",\r\n    data: payload,\r\n  })\r\n    .then(function (response) {\r\n      localStorage.setItem(\"woodenculture-token\", response.data.token);\r\n      const data = response.data;\r\n      data.isLogedin = true;\r\n      dispatch(loginSucess(data));\r\n      return data;\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n      return { isLogedin: false };\r\n    });\r\n};\r\n\r\nexport const signup = async (payload) => {\r\n  return axios({\r\n    method: \"put\",\r\n    url: API_URL + \"/auth/signup\",\r\n    data: payload,\r\n  })\r\n    .then(function (response) {\r\n      return { status: true };\r\n    })\r\n    .catch(function (error) {\r\n      return { status: false };\r\n    });\r\n};\r\n\r\nexport const getUserStatus = (payload) => (dispatch) => {\r\n  return axios({\r\n    method: \"get\",\r\n    url: API_URL + \"/auth/status\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + localStorage.getItem(\"woodenculture-token\"),\r\n    },\r\n  })\r\n    .then(function (response) {\r\n      const data = response.data;\r\n      data.isLogedin = true;\r\n      dispatch(getUserStatusAction(data));\r\n      return data;\r\n    })\r\n    .catch(function (error) {\r\n      return { isLogedin: false };\r\n    });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}