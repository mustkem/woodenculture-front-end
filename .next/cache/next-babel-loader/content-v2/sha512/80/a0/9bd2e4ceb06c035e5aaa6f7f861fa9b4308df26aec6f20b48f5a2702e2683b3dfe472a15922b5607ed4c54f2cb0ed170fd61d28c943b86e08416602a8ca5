{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/home/mustkeem/Documents/My Projects/all-projects/woodenculture/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/home/mustkeem/Documents/My Projects/all-projects/woodenculture/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { commonActions } from \"../../../../store/common\";\nimport { CgProfile } from \"react-icons/cg\";\nimport { IoIosCall } from \"react-icons/io\";\nimport Login from \"../../../Login\";\nimport QueryModel from \"../../../Common/QueryModel\";\n\nfunction SecondaryHeader(props) {\n  var _props$signupData2, _props$signupData2$da;\n\n  console.log(\"test5\", props.isLogedIn);\n  var myProfileRef = useRef(null);\n\n  var _useState = useState(false),\n      show = _useState[0],\n      setShow = _useState[1];\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      bookNowModel = _React$useState2[0],\n      setBookNowModel = _React$useState2[1];\n\n  var _useState2 = useState(true),\n      shouldShowLoginForm = _useState2[0],\n      setShouldShowLoginForm = _useState2[1];\n\n  var _useState3 = useState({\n    phone_num: \"\",\n    password: \"\"\n  }),\n      formDataLogin = _useState3[0],\n      setFormData = _useState3[1];\n\n  var _useState4 = useState({\n    phone_num: \"\",\n    password: \"\",\n    name: \"\"\n  }),\n      signUpFormData = _useState4[0],\n      setSignUpFormData = _useState4[1];\n\n  var handleClose = function handleClose() {\n    return setShow(false);\n  };\n\n  var handleShow = function handleShow() {\n    props.setLoginModel(true);\n    document.querySelectorAll(\".sub-dropdown\").forEach(function (node) {\n      node.style.display = \"none\";\n    });\n  };\n\n  var handleChangeLogin = function handleChangeLogin(key, e) {\n    var updatedFormData = _objectSpread({}, formDataLogin);\n\n    updatedFormData[key] = e.target.value;\n    setFormData(updatedFormData);\n  };\n\n  var handleChangeSignup = function handleChangeSignup(key, e) {\n    var updatedSignUpFormData = _objectSpread({}, signUpFormData);\n\n    updatedSignUpFormData[key] = e.target.value;\n    setSignUpFormData(updatedSignUpFormData);\n  };\n\n  var handleSubmitLogin = function handleSubmitLogin(e) {\n    e.preventDefault();\n    props.login({\n      phone_num: formDataLogin.phone_num,\n      password: formDataLogin.password\n    });\n  };\n\n  var handleSubmitSignup = function handleSubmitSignup(e) {\n    e.preventDefault();\n    props.signup({\n      phone_num: signUpFormData.phone_num,\n      password: signUpFormData.password,\n      name: signUpFormData.name\n    });\n  };\n\n  useEffect(function () {\n    var _props$signupData, _props$signupData$dat;\n\n    if ((_props$signupData = props.signupData) !== null && _props$signupData !== void 0 && (_props$signupData$dat = _props$signupData.data) !== null && _props$signupData$dat !== void 0 && _props$signupData$dat.status) {\n      setShouldShowLoginForm(true);\n    }\n  }, [(_props$signupData2 = props.signupData) === null || _props$signupData2 === void 0 ? void 0 : (_props$signupData2$da = _props$signupData2.data) === null || _props$signupData2$da === void 0 ? void 0 : _props$signupData2$da.status]);\n\n  var handleClickOutside = function handleClickOutside(event) {\n    if (myProfileRef.current && !myProfileRef.current.contains(event.target)) {\n      document.querySelectorAll(\".sub-dropdown\").forEach(function (node) {\n        node.style.display = \"none\";\n      });\n    }\n  };\n\n  useEffect(function () {\n    document.addEventListener(\"click\", handleClickOutside, true);\n    return function () {\n      document.removeEventListener(\"click\", handleClickOutside, true);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"secondary-strip\",\n    children: [/*#__PURE__*/_jsxs(Container, {\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"content\",\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          children: \"Wooden Art that speaks for you\"\n        }), /*#__PURE__*/_jsxs(\"ul\", {\n          className: \"navbar-secondary\",\n          children: [/*#__PURE__*/_jsx(\"li\", {\n            children: /*#__PURE__*/_jsxs(\"button\", {\n              onClick: function onClick() {\n                setBookNowModel(true);\n              },\n              className: \"bt-primary\",\n              children: [/*#__PURE__*/_jsx(\"i\", {\n                className: \"call\",\n                children: /*#__PURE__*/_jsx(IoIosCall, {})\n              }), \"Get a Callback\"]\n            })\n          }), /*#__PURE__*/_jsx(\"li\", {\n            children: props.isLogedIn ? /*#__PURE__*/_jsxs(\"div\", {\n              ref: myProfileRef,\n              className: \"profile-icon-sec\",\n              children: [/*#__PURE__*/_jsx(CgProfile, {\n                onClick: function onClick() {\n                  document.querySelectorAll(\".sub-dropdown\").forEach(function (node) {\n                    if (!node.style.display || node.style.display === \"none\") {\n                      node.style.display = \"block\";\n                    } else {\n                      node.style.display = \"none\";\n                    }\n                  });\n                },\n                className: \"nav-item sub-dropdown-parent profile-icon\"\n              }), /*#__PURE__*/_jsxs(\"ul\", {\n                className: \"sub-dropdown\",\n                children: [/*#__PURE__*/_jsx(\"li\", {\n                  className: \"nav-item\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    onClick: function onClick() {\n                      document.querySelectorAll(\".sub-dropdown\").forEach(function (node) {\n                        node.style.display = \"none\";\n                      });\n                    },\n                    \"class\": \"nav-link-sub\",\n                    to: \"/\",\n                    children: \"My Profile\"\n                  })\n                }), /*#__PURE__*/_jsx(\"li\", {\n                  className: \"nav-item\",\n                  children: /*#__PURE__*/_jsx(\"button\", {\n                    className: \"bt-primary\",\n                    children: /*#__PURE__*/_jsx(\"a\", {\n                      href: \"/wishlist\",\n                      children: \"My Wishlist\"\n                    })\n                  })\n                }), /*#__PURE__*/_jsx(\"li\", {\n                  className: \"nav-item\",\n                  children: /*#__PURE__*/_jsx(\"button\", {\n                    onClick: function onClick() {\n                      localStorage.removeItem(\"woodenculture-token\");\n                      history.replace(\"/\");\n                      history.go(0);\n                    },\n                    className: \"bt-primary\",\n                    children: \"Logout\"\n                  })\n                })]\n              })]\n            }) : /*#__PURE__*/_jsx(\"button\", {\n              onClick: handleShow,\n              className: \"bt-primary\",\n              children: \"Login\"\n            })\n          })]\n        })]\n      }), /*#__PURE__*/_jsx(QueryModel, {\n        show: bookNowModel,\n        setShow: setBookNowModel,\n        type: \"Callback\"\n      })]\n    }), /*#__PURE__*/_jsx(Login, {})]\n  });\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var _state$common$user$da;\n\n  return {\n    signupData: state.common.signup,\n    userData: state.common.user,\n    isLogedIn: (_state$common$user$da = state.common.user.data) === null || _state$common$user$da === void 0 ? void 0 : _state$common$user$da.isLogedin\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  var _login = commonActions.login,\n      _signup = commonActions.signup,\n      _setLoginModel = commonActions.setLoginModel;\n  return {\n    login: function login(payload) {\n      return dispatch(_login(payload));\n    },\n    signup: function signup(payload) {\n      return dispatch(_signup(payload));\n    },\n    setLoginModel: function setLoginModel(payload) {\n      return dispatch(_setLoginModel(payload));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SecondaryHeader);","map":null,"metadata":{},"sourceType":"module"}