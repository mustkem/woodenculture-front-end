_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{"+A3o":function(t,e,r){"use strict";var n=r("nKUr"),c=r("rePB"),a=r("ODXe"),o=r("q1tI"),s=r.n(o),i=r("zM5D"),u=r("cWnB"),l=r("X13+"),d=r("OS56"),p=r.n(d),f=r("vDqi"),j=r.n(f),h=r("/MKj"),b=r("20a2"),O=r("Bk6j"),v=r("QJtX"),g=r("obyI"),m=r("YgYD");function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){Object(c.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var S={dots:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1};var x=function(t){var e=Object(h.c)(),r=Object(b.useRouter)();console.log("testrrrrr eoyter",r.query);var c=Object(h.d)((function(t){var e;return null===(e=t.common.user.data)||void 0===e?void 0:e.isLogedin})),d=t.item,f=t.user,y=s.a.useState(null),x=Object(a.a)(y,2),_=(x[0],x[1]),E=s.a.useState(null),N=Object(a.a)(E,2),I=N[0],P=N[1],U=s.a.useState(!1),k=Object(a.a)(U,2),L=k[0],A=k[1],D=Object(o.useState)(!1),T=D[0],G=D[1],C=function(){return G(!1)},R=null;s.a.useEffect((function(){_(R),P(null)}),[]);var F=function(t,n){j()({method:"patch",url:g.a+"/auth/user/wishlist",headers:{Authorization:"Bearer "+localStorage.getItem("woodenculture-token")},params:{productId:t,status:n}}).then((function(t){return e(v.a.fetchProducts({category_slug:r.query.tag})),e(O.b.getUserStatus()),G(!0),t.data})).catch((function(t){console.log(t)}))},B=function(t){var e=!1;return f&&f.wishlist&&f.wishlist.forEach((function(r){r.productId===t&&r.status&&(e=!0)})),e};return Object(n.jsxs)("div",{className:"row product-item",children:[Object(n.jsx)("div",{className:"col-6 sec-1",children:Object(n.jsx)(p.a,w(w({},S),{},{asNavFor:I,ref:function(t){return R=t},children:d.images&&d.images.map((function(t){return Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"poster",children:Object(n.jsx)("img",{className:"image",src:"https://woodenculture-backend.herokuapp.com/"+t.url,alt:""})})})}))}))}),Object(n.jsxs)("div",{className:"col-6",children:[Object(n.jsx)("div",{className:"head-sec",children:Object(n.jsx)("div",{className:"title",children:null===d||void 0===d?void 0:d.title})}),Object(n.jsx)("p",{className:"description",children:null===d||void 0===d?void 0:d.description}),Object(n.jsxs)("div",{className:"actions-product",children:[t.wishlistPage?Object(n.jsx)("button",{onClick:function(){t.removeFromWishlist(d._id)},className:"bt-main left",children:"Remove from wishlist"}):Object(n.jsx)(n.Fragment,{children:B(d._id)?Object(n.jsx)("button",{onClick:function(){if(!c)return e(O.a.setLoginModel(!0)),!1;F(d._id,!1)},className:"bt-main left",children:"Added to wishlist"}):Object(n.jsx)("button",{onClick:function(){if(!c)return e(O.a.setLoginModel(!0)),!1;F(d._id,!0)},className:"bt-main left",children:"Add to wishlist"})}),Object(n.jsx)("button",{onClick:function(){A(!0)},className:"bt-main right",children:"Book now"})]}),Object(n.jsxs)("div",{className:"features",children:[Object(n.jsx)("div",{className:"title-small",children:"Features"}),Object(n.jsx)("div",{className:"details",children:null===d||void 0===d?void 0:d.features.map((function(t){return Object(n.jsxs)("div",{className:"features-row",children:[Object(n.jsx)(l.a,{className:"icon"}),Object(n.jsx)("strong",{children:t.title}),Object(n.jsx)("span",{children:t.desc})]})}))})]})]}),Object(n.jsxs)(i.a,{show:T,onHide:C,children:[Object(n.jsx)(i.a.Header,{closeButton:!0,children:Object(n.jsx)(i.a.Title,{children:null===d||void 0===d?void 0:d.title})}),Object(n.jsx)(i.a.Body,{children:B(d._id)?"Added to wishlist":"Removed from wishlist"}),Object(n.jsx)(i.a.Footer,{children:Object(n.jsx)(u.a,{variant:"secondary",onClick:C,children:"Close"})})]}),Object(n.jsx)(m.a,{show:L,setShow:A,item:d,type:"Product query"})]})};e.a=x},"4ayl":function(t,e,r){"use strict";var n=r("nKUr");r("q1tI");var c=function(){return Object(n.jsx)("div",{style:{justifyContent:"center",display:"flex",alignItems:"center",height:200,fontSize:20},children:"No Result Found"})};e.a=c},"7d3W":function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"LOGIN",(function(){return j})),r.d(n,"LOGIN_SUCCESS",(function(){return h})),r.d(n,"LOGIN_FAILED",(function(){return b})),r.d(n,"LOGIN_CLEAR",(function(){return O})),r.d(n,"SIGNUP",(function(){return v})),r.d(n,"SIGNUP_SUCCESS",(function(){return g})),r.d(n,"SIGNUP_FAILED",(function(){return m})),r.d(n,"SIGNUP_CLEAR",(function(){return y})),r.d(n,"GET_USER_STATUS",(function(){return w})),r.d(n,"GET_USER_STATUS_SUCCESS",(function(){return S})),r.d(n,"GET_USER_STATUS_FAILED",(function(){return x})),r.d(n,"SET_LOGIN_MODEL",(function(){return _}));var c={};r.r(c),r.d(c,"login",(function(){return E})),r.d(c,"signup",(function(){return N})),r.d(c,"getUserStatus",(function(){return I})),r.d(c,"setLoginModel",(function(){return P}));var a=r("nKUr"),o=r("q1tI"),s=r.n(o),i=r("ODXe"),u=r("vDqi"),l=r.n(u),d=r("/MKj"),p=r("rePB"),f="USER",j="".concat(f,"/LOGIN"),h="".concat(f,"/LOGIN_SUCCESS"),b="".concat(f,"/LOGIN_FAILED"),O="".concat(f,"/LOGIN_CLEAR"),v="".concat(f,"/SIGNUP"),g="".concat(f,"/SIGNUP_SUCCESS"),m="".concat(f,"/SIGNUP_FAILED"),y="".concat(f,"/SIGNUP_CLEAR"),w="".concat(f,"/GET_USER_STATUS"),S="".concat(f,"/GET_USER_STATUS_SUCCESS"),x="".concat(f,"/GET_USER_STATUS_FAILED"),_="".concat(f,"/SET_LOGIN_MODEL"),E=function(t){return{type:j,payload:t}},N=function(t){return{type:v,payload:t}},I=function(t){return{type:w,payload:t}},P=function(t){return{type:_,payload:t}},U=r("o0o1"),k=r.n(U),L=r("5rFJ"),A=r("HaE+"),D=r("obyI"),T=function(){var t=Object(A.a)(k.a.mark((function t(e){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",l()({method:"post",url:D.a+"/auth/login",data:e}).then((function(t){localStorage.setItem("woodenculture-token",t.data.token);var e=t.data;return e.isLogedin=!0,e})).catch((function(t){return console.log(t),{isLogedin:!1}})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=function(){var t=Object(A.a)(k.a.mark((function t(e){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",l()({method:"put",url:D.a+"/auth/signup",data:e}).then((function(t){return{status:!0}})).catch((function(t){return{status:!1}})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(A.a)(k.a.mark((function t(e){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",l()({method:"get",url:D.a+"/auth/status",headers:{Authorization:"Bearer "+localStorage.getItem("woodenculture-token")}}).then((function(t){var e=t.data;return e.isLogedin=!0,e})).catch((function(t){return{isLogedin:!1}})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=k.a.mark(q),F=k.a.mark(z),B=k.a.mark(H),M=k.a.mark(X);function q(t){var e;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(L.a)(T,t.payload);case 3:return e=r.sent,r.next=6,Object(L.b)({type:h,payload:e});case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(L.b)({type:b,error:r.t0&&r.t0.message});case 12:case"end":return r.stop()}}),R,null,[[0,8]])}function z(t){var e;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(L.a)(G,t.payload);case 3:return e=r.sent,r.next=6,Object(L.b)({type:g,payload:e});case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(L.b)({type:m,error:r.t0&&r.t0.message});case 12:case"end":return r.stop()}}),F,null,[[0,8]])}function H(t){var e;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(L.a)(C,t.payload);case 3:return e=r.sent,r.next=6,Object(L.b)({type:S,payload:e});case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(L.b)({type:x,error:r.t0&&r.t0.message});case 12:case"end":return r.stop()}}),B,null,[[0,8]])}function X(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(L.c)(j,q);case 2:return t.next=4,Object(L.c)(v,z);case 4:return t.next=6,Object(L.c)(w,H);case 6:case"end":return t.stop()}}),M)}var K=r("ANjH");function W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function J(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?W(Object(r),!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Y={user:{data:null,loading:!1,error:null}},Q={loginModel:!1},V={data:{status:!1},loading:!0,error:null};Object(K.c)({user:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y.user,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return J(J({},t),{},{loading:!0,error:null});case h:return console.log("test1",e.payload),J(J({},t),{},{loading:!1,data:e.payload});case b:return J(J({},t),{},{loading:!1,error:e.error});case S:return console.log("test2",e.payload),J(J({},t),{},{data:e.payload,loading:!1});default:return t}},signup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v:return J(J({},t),{},{loading:!0,error:null});case g:return J(J({},t),{},{loading:!1,data:e.payload});case m:return{data:e.payload,loading:!1,error:e.error};default:return t}},duck:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case _:return J(J({},t),{},{loginModel:e.payload});default:return t}}});function Z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(r),!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}X();var tt=$({},c),et=($({},n),r("+A3o")),rt=r("u24h"),nt=r("4ayl");var ct=function(){var t=s.a.useState(null),e=Object(i.a)(t,2),r=e[0],n=e[1],c=Object(d.c)();s.a.useEffect((function(){o()}),[]);var o=function(){l()({method:"get",url:D.a+"/auth/user/wishlist",headers:{Authorization:"Bearer "+localStorage.getItem("woodenculture-token")}}).then((function(t){var e=[];return t.data.products.forEach((function(t){t.status&&t.productId&&e.push(t.productId)})),n(e),c(tt.getUserStatus()),t.data})).catch((function(t){console.log(t)}))},u=function(t){l()({method:"patch",url:D.a+"/auth/user/wishlist",headers:{Authorization:"Bearer "+localStorage.getItem("woodenculture-token")},params:{productId:t,status:!1}}).then((function(t){return o(),t.data})).catch((function(t){console.log(t)}))};return console.log("test",r),Object(a.jsx)(rt.a,{children:Object(a.jsx)("div",{className:"wishlist-page",children:Object(a.jsx)("div",{className:"product-list-strip",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"product-list",children:r&&r.length>0&&r.map((function(t){return t?Object(a.jsx)(et.a,{item:t,removeFromWishlist:u,wishlistPage:!0},t._id):null}))}),r&&0===r.length&&Object(a.jsx)(nt.a,{})]})})})})};e.default=function(){return Object(a.jsx)(ct,{})}},"O+1H":function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/wishlist",function(){return r("7d3W")}])}},[["O+1H",1,2,4,7,8,5,10,0,3,6,9,11]]]);